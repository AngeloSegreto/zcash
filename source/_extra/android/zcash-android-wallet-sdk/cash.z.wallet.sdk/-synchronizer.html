<HTML>
<HEAD>
<meta charset="UTF-8">
<title>Synchronizer - zcash-android-wallet-sdk</title>
<link rel="stylesheet" href="../../style.css">
</HEAD>
<BODY>
<a href="../index.html">zcash-android-wallet-sdk</a>&nbsp;/&nbsp;<a href="index.html">cash.z.wallet.sdk</a>&nbsp;/&nbsp;<a href="./-synchronizer.html">Synchronizer</a><br/>
<br/>
<h1>Synchronizer</h1>
<a name="cash.z.wallet.sdk$Synchronizer(android.content.Context, kotlin.String, kotlin.Int, kotlin.ByteArray, cash.z.wallet.sdk.Initializer.WalletBirthdayStore)"></a>
<code><span class="keyword">fun </span><span class="identifier">Synchronizer</span><span class="symbol">(</span><span class="identifier" id="cash.z.wallet.sdk$Synchronizer(android.content.Context, kotlin.String, kotlin.Int, kotlin.ByteArray, cash.z.wallet.sdk.Initializer.WalletBirthdayStore)/appContext">appContext</span><span class="symbol">:</span>&nbsp;<a href="https://developer.android.com/reference/android/content/Context.html"><span class="identifier">Context</span></a><span class="symbol">, </span><span class="identifier" id="cash.z.wallet.sdk$Synchronizer(android.content.Context, kotlin.String, kotlin.Int, kotlin.ByteArray, cash.z.wallet.sdk.Initializer.WalletBirthdayStore)/lightwalletdHost">lightwalletdHost</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a>&nbsp;<span class="symbol">=</span>&nbsp;ZcashSdk.DEFAULT_LIGHTWALLETD_HOST<span class="symbol">, </span><span class="identifier" id="cash.z.wallet.sdk$Synchronizer(android.content.Context, kotlin.String, kotlin.Int, kotlin.ByteArray, cash.z.wallet.sdk.Initializer.WalletBirthdayStore)/lightwalletdPort">lightwalletdPort</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a>&nbsp;<span class="symbol">=</span>&nbsp;ZcashSdk.DEFAULT_LIGHTWALLETD_PORT<span class="symbol">, </span><span class="identifier" id="cash.z.wallet.sdk$Synchronizer(android.content.Context, kotlin.String, kotlin.Int, kotlin.ByteArray, cash.z.wallet.sdk.Initializer.WalletBirthdayStore)/seed">seed</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-byte-array/index.html"><span class="identifier">ByteArray</span></a><span class="symbol">?</span>&nbsp;<span class="symbol">=</span>&nbsp;null<span class="symbol">, </span><span class="identifier" id="cash.z.wallet.sdk$Synchronizer(android.content.Context, kotlin.String, kotlin.Int, kotlin.ByteArray, cash.z.wallet.sdk.Initializer.WalletBirthdayStore)/birthdayStore">birthdayStore</span><span class="symbol">:</span>&nbsp;<span class="identifier">WalletBirthdayStore</span>&nbsp;<span class="symbol">=</span>&nbsp;Initializer.DefaultBirthdayStore(appContext)<span class="symbol">)</span><span class="symbol">: </span><a href="-synchronizer/index.html"><span class="identifier">Synchronizer</span></a></code>
<p>A convenience constructor that accepts the information most likely to change and uses defaults
for everything else. This is useful for demos, sample apps or PoC's. Anything more complex
will probably want to handle initialization, directly.</p>
<h3>Parameters</h3>
<p><a name="appContext"></a>
<code>appContext</code> - the application context. This is mostly used for finding databases and params
files within the apps secure storage area.</p>
<p><a name="lightwalletdHost"></a>
<code>lightwalletdHost</code> - the lightwalletd host to use for connections.</p>
<p><a name="lightwalletdPort"></a>
<code>lightwalletdPort</code> - the lightwalletd port to use for connections.</p>
<p><a name="seed"></a>
<code>seed</code> - the seed to use for this wallet, when importing. Null when creating a new wallet.</p>
<p><a name="birthdayStore"></a>
<code>birthdayStore</code> - the place to store the birthday of this wallet for future reference, which
allows something else to manage the state on behalf of the initializer.</p>
<a name="cash.z.wallet.sdk$Synchronizer(android.content.Context, cash.z.wallet.sdk.Initializer)"></a>
<code><span class="keyword">fun </span><span class="identifier">Synchronizer</span><span class="symbol">(</span><span class="identifier" id="cash.z.wallet.sdk$Synchronizer(android.content.Context, cash.z.wallet.sdk.Initializer)/appContext">appContext</span><span class="symbol">:</span>&nbsp;<a href="https://developer.android.com/reference/android/content/Context.html"><span class="identifier">Context</span></a><span class="symbol">, </span><span class="identifier" id="cash.z.wallet.sdk$Synchronizer(android.content.Context, cash.z.wallet.sdk.Initializer)/initializer">initializer</span><span class="symbol">:</span>&nbsp;<a href="-initializer/index.html"><span class="identifier">Initializer</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="-synchronizer/index.html"><span class="identifier">Synchronizer</span></a></code>
<p>Constructor function to use in most cases. This is a convenience function for when a wallet has
already created an initializer. Meaning, the basic flow is to call either <a href="-initializer/new.html">Initializer.new</a> or
<a href="-initializer/import.html">Initializer.import</a> on the first run and then <a href="-initializer/open.html">Initializer.open</a> for all subsequent launches of
the wallet. From there, the initializer is passed to this function in order to start syncing from
where the wallet left off.</p>
<h3>Parameters</h3>
<p><a name="appContext"></a>
<code>appContext</code> - the application context. This is mostly used for finding databases and params
files within the apps secure storage area.</p>
<p><a name="initializer"></a>
<code>initializer</code> - the helper that is leveraged for creating all the components that the
Synchronizer requires. It is mainly responsible for initializing the databases associated with
this synchronizer.</p>
<a name="cash.z.wallet.sdk$Synchronizer(android.content.Context, cash.z.wallet.sdk.jni.RustBackend, kotlin.String, kotlin.Int, cash.z.wallet.sdk.transaction.TransactionRepository, cash.z.wallet.sdk.block.CompactBlockStore, cash.z.wallet.sdk.service.LightWalletService, cash.z.wallet.sdk.transaction.TransactionEncoder, cash.z.wallet.sdk.block.CompactBlockDownloader, cash.z.wallet.sdk.transaction.OutboundTransactionManager, cash.z.wallet.sdk.block.CompactBlockProcessor)"></a>
<code><span class="keyword">fun </span><span class="identifier">Synchronizer</span><span class="symbol">(</span><span class="identifier" id="cash.z.wallet.sdk$Synchronizer(android.content.Context, cash.z.wallet.sdk.jni.RustBackend, kotlin.String, kotlin.Int, cash.z.wallet.sdk.transaction.TransactionRepository, cash.z.wallet.sdk.block.CompactBlockStore, cash.z.wallet.sdk.service.LightWalletService, cash.z.wallet.sdk.transaction.TransactionEncoder, cash.z.wallet.sdk.block.CompactBlockDownloader, cash.z.wallet.sdk.transaction.OutboundTransactionManager, cash.z.wallet.sdk.block.CompactBlockProcessor)/appContext">appContext</span><span class="symbol">:</span>&nbsp;<a href="https://developer.android.com/reference/android/content/Context.html"><span class="identifier">Context</span></a><span class="symbol">, </span><span class="identifier" id="cash.z.wallet.sdk$Synchronizer(android.content.Context, cash.z.wallet.sdk.jni.RustBackend, kotlin.String, kotlin.Int, cash.z.wallet.sdk.transaction.TransactionRepository, cash.z.wallet.sdk.block.CompactBlockStore, cash.z.wallet.sdk.service.LightWalletService, cash.z.wallet.sdk.transaction.TransactionEncoder, cash.z.wallet.sdk.block.CompactBlockDownloader, cash.z.wallet.sdk.transaction.OutboundTransactionManager, cash.z.wallet.sdk.block.CompactBlockProcessor)/rustBackend">rustBackend</span><span class="symbol">:</span>&nbsp;<a href="../cash.z.wallet.sdk.jni/-rust-backend/index.html"><span class="identifier">RustBackend</span></a><span class="symbol">, </span><span class="identifier" id="cash.z.wallet.sdk$Synchronizer(android.content.Context, cash.z.wallet.sdk.jni.RustBackend, kotlin.String, kotlin.Int, cash.z.wallet.sdk.transaction.TransactionRepository, cash.z.wallet.sdk.block.CompactBlockStore, cash.z.wallet.sdk.service.LightWalletService, cash.z.wallet.sdk.transaction.TransactionEncoder, cash.z.wallet.sdk.block.CompactBlockDownloader, cash.z.wallet.sdk.transaction.OutboundTransactionManager, cash.z.wallet.sdk.block.CompactBlockProcessor)/lightwalletdHost">lightwalletdHost</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a>&nbsp;<span class="symbol">=</span>&nbsp;ZcashSdk.DEFAULT_LIGHTWALLETD_HOST<span class="symbol">, </span><span class="identifier" id="cash.z.wallet.sdk$Synchronizer(android.content.Context, cash.z.wallet.sdk.jni.RustBackend, kotlin.String, kotlin.Int, cash.z.wallet.sdk.transaction.TransactionRepository, cash.z.wallet.sdk.block.CompactBlockStore, cash.z.wallet.sdk.service.LightWalletService, cash.z.wallet.sdk.transaction.TransactionEncoder, cash.z.wallet.sdk.block.CompactBlockDownloader, cash.z.wallet.sdk.transaction.OutboundTransactionManager, cash.z.wallet.sdk.block.CompactBlockProcessor)/lightwalletdPort">lightwalletdPort</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a>&nbsp;<span class="symbol">=</span>&nbsp;ZcashSdk.DEFAULT_LIGHTWALLETD_PORT<span class="symbol">, </span><span class="identifier" id="cash.z.wallet.sdk$Synchronizer(android.content.Context, cash.z.wallet.sdk.jni.RustBackend, kotlin.String, kotlin.Int, cash.z.wallet.sdk.transaction.TransactionRepository, cash.z.wallet.sdk.block.CompactBlockStore, cash.z.wallet.sdk.service.LightWalletService, cash.z.wallet.sdk.transaction.TransactionEncoder, cash.z.wallet.sdk.block.CompactBlockDownloader, cash.z.wallet.sdk.transaction.OutboundTransactionManager, cash.z.wallet.sdk.block.CompactBlockProcessor)/ledger">ledger</span><span class="symbol">:</span>&nbsp;<a href="../cash.z.wallet.sdk.transaction/-transaction-repository/index.html"><span class="identifier">TransactionRepository</span></a>&nbsp;<span class="symbol">=</span>&nbsp;PagedTransactionRepository(appContext, 1000, rustBackend.pathDataDb)<span class="symbol">, </span><span class="identifier" id="cash.z.wallet.sdk$Synchronizer(android.content.Context, cash.z.wallet.sdk.jni.RustBackend, kotlin.String, kotlin.Int, cash.z.wallet.sdk.transaction.TransactionRepository, cash.z.wallet.sdk.block.CompactBlockStore, cash.z.wallet.sdk.service.LightWalletService, cash.z.wallet.sdk.transaction.TransactionEncoder, cash.z.wallet.sdk.block.CompactBlockDownloader, cash.z.wallet.sdk.transaction.OutboundTransactionManager, cash.z.wallet.sdk.block.CompactBlockProcessor)/blockStore">blockStore</span><span class="symbol">:</span>&nbsp;<a href="../cash.z.wallet.sdk.block/-compact-block-store/index.html"><span class="identifier">CompactBlockStore</span></a>&nbsp;<span class="symbol">=</span>&nbsp;CompactBlockDbStore(appContext, rustBackend.pathCacheDb)<span class="symbol">, </span><span class="identifier" id="cash.z.wallet.sdk$Synchronizer(android.content.Context, cash.z.wallet.sdk.jni.RustBackend, kotlin.String, kotlin.Int, cash.z.wallet.sdk.transaction.TransactionRepository, cash.z.wallet.sdk.block.CompactBlockStore, cash.z.wallet.sdk.service.LightWalletService, cash.z.wallet.sdk.transaction.TransactionEncoder, cash.z.wallet.sdk.block.CompactBlockDownloader, cash.z.wallet.sdk.transaction.OutboundTransactionManager, cash.z.wallet.sdk.block.CompactBlockProcessor)/service">service</span><span class="symbol">:</span>&nbsp;<a href="../cash.z.wallet.sdk.service/-light-wallet-service/index.html"><span class="identifier">LightWalletService</span></a>&nbsp;<span class="symbol">=</span>&nbsp;LightWalletGrpcService(appContext, lightwalletdHost, lightwalletdPort)<span class="symbol">, </span><span class="identifier" id="cash.z.wallet.sdk$Synchronizer(android.content.Context, cash.z.wallet.sdk.jni.RustBackend, kotlin.String, kotlin.Int, cash.z.wallet.sdk.transaction.TransactionRepository, cash.z.wallet.sdk.block.CompactBlockStore, cash.z.wallet.sdk.service.LightWalletService, cash.z.wallet.sdk.transaction.TransactionEncoder, cash.z.wallet.sdk.block.CompactBlockDownloader, cash.z.wallet.sdk.transaction.OutboundTransactionManager, cash.z.wallet.sdk.block.CompactBlockProcessor)/encoder">encoder</span><span class="symbol">:</span>&nbsp;<a href="../cash.z.wallet.sdk.transaction/-transaction-encoder/index.html"><span class="identifier">TransactionEncoder</span></a>&nbsp;<span class="symbol">=</span>&nbsp;WalletTransactionEncoder(rustBackend, ledger)<span class="symbol">, </span><span class="identifier" id="cash.z.wallet.sdk$Synchronizer(android.content.Context, cash.z.wallet.sdk.jni.RustBackend, kotlin.String, kotlin.Int, cash.z.wallet.sdk.transaction.TransactionRepository, cash.z.wallet.sdk.block.CompactBlockStore, cash.z.wallet.sdk.service.LightWalletService, cash.z.wallet.sdk.transaction.TransactionEncoder, cash.z.wallet.sdk.block.CompactBlockDownloader, cash.z.wallet.sdk.transaction.OutboundTransactionManager, cash.z.wallet.sdk.block.CompactBlockProcessor)/downloader">downloader</span><span class="symbol">:</span>&nbsp;<a href="../cash.z.wallet.sdk.block/-compact-block-downloader/index.html"><span class="identifier">CompactBlockDownloader</span></a>&nbsp;<span class="symbol">=</span>&nbsp;CompactBlockDownloader(service, blockStore)<span class="symbol">, </span><span class="identifier" id="cash.z.wallet.sdk$Synchronizer(android.content.Context, cash.z.wallet.sdk.jni.RustBackend, kotlin.String, kotlin.Int, cash.z.wallet.sdk.transaction.TransactionRepository, cash.z.wallet.sdk.block.CompactBlockStore, cash.z.wallet.sdk.service.LightWalletService, cash.z.wallet.sdk.transaction.TransactionEncoder, cash.z.wallet.sdk.block.CompactBlockDownloader, cash.z.wallet.sdk.transaction.OutboundTransactionManager, cash.z.wallet.sdk.block.CompactBlockProcessor)/manager">manager</span><span class="symbol">:</span>&nbsp;<a href="../cash.z.wallet.sdk.transaction/-outbound-transaction-manager/index.html"><span class="identifier">OutboundTransactionManager</span></a>&nbsp;<span class="symbol">=</span>&nbsp;PersistentTransactionManager(appContext, encoder, service)<span class="symbol">, </span><span class="identifier" id="cash.z.wallet.sdk$Synchronizer(android.content.Context, cash.z.wallet.sdk.jni.RustBackend, kotlin.String, kotlin.Int, cash.z.wallet.sdk.transaction.TransactionRepository, cash.z.wallet.sdk.block.CompactBlockStore, cash.z.wallet.sdk.service.LightWalletService, cash.z.wallet.sdk.transaction.TransactionEncoder, cash.z.wallet.sdk.block.CompactBlockDownloader, cash.z.wallet.sdk.transaction.OutboundTransactionManager, cash.z.wallet.sdk.block.CompactBlockProcessor)/processor">processor</span><span class="symbol">:</span>&nbsp;<a href="../cash.z.wallet.sdk.block/-compact-block-processor/index.html"><span class="identifier">CompactBlockProcessor</span></a>&nbsp;<span class="symbol">=</span>&nbsp;CompactBlockProcessor(downloader, ledger, rustBackend, rustBackend.birthdayHeight)<span class="symbol">)</span><span class="symbol">: </span><a href="-synchronizer/index.html"><span class="identifier">Synchronizer</span></a></code>
<p>Constructor function for building a Synchronizer in the most flexible way possible. This allows
a wallet maker to customize any subcomponent of the Synchronzer.</p>
<h3>Parameters</h3>
<p><a name="appContext"></a>
<code>appContext</code> - the application context. This is mostly used for finding databases and params
files within the apps secure storage area.</p>
<p><a name="lightwalletdHost"></a>
<code>lightwalletdHost</code> - the lightwalletd host to use for connections.</p>
<p><a name="lightwalletdPort"></a>
<code>lightwalletdPort</code> - the lightwalletd port to use for connections.</p>
<p><a name="ledger"></a>
<code>ledger</code> - repository of wallet transactions, providing an agnostic interface to the
underlying information.</p>
<p><a name="blockStore"></a>
<code>blockStore</code> - component responsible for storing compact blocks downloaded from lightwalletd.</p>
<p><a name="service"></a>
<code>service</code> - the lightwalletd service that can provide compact blocks and submit transactions.</p>
<p><a name="encoder"></a>
<code>encoder</code> - the component responsible for encoding transactions.</p>
<p><a name="downloader"></a>
<code>downloader</code> - the component responsible for downloading ranges of compact blocks.</p>
<p><a name="manager"></a>
<code>manager</code> - the component that manages outbound transactions in order to report which ones are
still pending, particularly after failed attempts or dropped connectivity. The intent is to help
monitor outbound  transactions status through to completion.</p>
<p><a name="processor"></a>
<code>processor</code> - the component responsible for processing compact blocks. This is effectively the
brains of the synchronizer that implements most of the high-level business logic and determines
the current state of the wallet.</p>
</BODY>
</HTML>
